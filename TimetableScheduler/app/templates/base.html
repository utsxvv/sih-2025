<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- The title block can be overridden by child templates -->
    <title>{% block title %}Admin Panel{% endblock %} - Timetable Management</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Custom scrollbar for better aesthetics */
        ::-webkit-scrollbar {
            width: 6px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        ::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 3px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #555;
        }
        /* Check the resolved URL name to apply the 'active' class */
        .sidebar-item.active {
            background-color: #15803d; /* dark green */
            color: white;
        }
        .sidebar-item.active svg {
            color: white;
        }
    </style>
    {% block extra_head %}{% endblock %}
</head>
<body class="bg-gray-50 flex">

    <!-- Sidebar Navigation -->
    <aside class="w-64 bg-white shadow-md flex flex-col h-screen fixed">
        <div class="p-6 flex items-center justify-between border-b">
            <h1 class="text-xl font-bold text-gray-800">Admin Panel</h1>
            <button class="text-gray-500 hover:text-gray-800">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m15 18-6-6 6-6"/></svg>
            </button>
        </div>
        <nav class="flex-1 p-4 space-y-2">
            <a href="{% url 'dashboard' %}" class="sidebar-item flex items-center p-3 rounded-lg text-gray-600 hover:bg-gray-100 transition-colors duration-200 {% if request.resolver_match.url_name == 'dashboard' %}active{% endif %}">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-3"><path d="M2 12h20M12 2a10 10 0 1 1 0 20 10 10 0 0 1 0-20z"/><path d="M12 2a10 10 0 1 0 0 20 10 10 0 0 0 0-20zM2 12h20"/></svg>
                Dashboard
            </a>
            <a href="{% url 'faculties' %}" class="sidebar-item flex items-center p-3 rounded-lg text-gray-600 hover:bg-gray-100 transition-colors duration-200 {% if request.resolver_match.url_name == 'faculties' %}active{% endif %}">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-3"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
                Faculties
            </a>
            <a href="{% url 'subjects' %}" class="sidebar-item flex items-center p-3 rounded-lg text-gray-600 hover:bg-gray-100 transition-colors duration-200 {% if request.resolver_match.url_name == 'subjects' %}active{% endif %}">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-3"><path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"/></svg>
                Subjects
            </a>
            <a href="{% url 'classrooms' %}" class="sidebar-item flex items-center p-3 rounded-lg text-gray-600 hover:bg-gray-100 transition-colors duration-200 {% if request.resolver_match.url_name == 'classrooms' %}active{% endif %}">
                 <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-3"><path d="M2 3h20"/><path d="M2 19h20"/><path d="M7 3v16"/><path d="M17 3v16"/></svg>
                Classrooms
            </a>
            <a href="{% url 'batches' %}" class="sidebar-item flex items-center p-3 rounded-lg text-gray-600 hover:bg-gray-100 transition-colors duration-200 {% if request.resolver_match.url_name == 'batches' %}active{% endif %}">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-3"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/><path d="m3.27 6.96 8.73 5.05 8.73-5.05"/><path d="M12 22.08V12"/></svg>
                Batches
            </a>
            <a href="{% url 'constraints' %}" class="sidebar-item flex items-center p-3 rounded-lg text-gray-600 hover:bg-gray-100 transition-colors duration-200 {% if request.resolver_match.url_name == 'constraints' %}active{% endif %}">
                 <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-3"><path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 0 2l-.15.08a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.38a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1 0-2l.15-.08a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"/><circle cx="12" cy="12" r="3"/></svg>
                Constraints
            </a>
            <a href="{% url 'timetable' %}" class="sidebar-item flex items-center p-3 rounded-lg text-gray-600 hover:bg-gray-100 transition-colors duration-200 {% if request.resolver_match.url_name == 'timetable' %}active{% endif %}">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-3"><rect width="18" height="18" x="3" y="4" rx="2" ry="2"/><line x1="16" x2="16" y1="2" y2="6"/><line x1="8" x2="8" y1="2" y2="6"/><line x1="3" x2="21" y1="10" y2="10"/></svg>
                Timetable
            </a>
        </nav>
    </aside>

    <!-- Main Content -->
    <main class="ml-64 flex-1 p-8 bg-emerald-50/30 min-h-screen">
        <div id="content">
            <!-- The content from child templates will be inserted here -->
            {% block content %}{% endblock %}
        </div>
    </main>
    
    <!-- Child templates can add scripts here -->
    {% block scripts %}{% endblock %}
</body>
</html>

